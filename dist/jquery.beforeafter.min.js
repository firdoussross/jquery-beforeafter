!function(e){e.fn.beforeafter=function(t){var i=e.extend({touch:!0,message:"Slide",hide_message:!0,reset:!0,reset_delay:3e3},t);return this.each(function(){
var t=e(this),a=t.find("img"),n=a.data("aftersrc"),s=t.width();a.after('<div class="g-img-after"><img style="width: '+s+'px;" src="'+n+'"></div>'),a.addClass("g-img-before").width(s),
t.append('<div class="g-img-divider"><span>'+i.message+"</span></div>"),t.on("mouseenter touchstart",function(e){var i=t.data("reset-timer");i&&(window.clearTimeout(i),
t.data("reset-timer",!1))}).on("mousemove touchmove",function(e){var a=e.pageX-t.offset().left,n=a/s*100,d=t.find(".g-img-divider span");if(i.touch&&"undefined"!=typeof e.originalEvent.touches){
var r=e.originalEvent.touches[0];n=(r.pageX-t.offset().left)/s*100}t.find(".g-img-after").css("left",n+"%"),t.find(".g-img-divider").css("left",n+"%"),
i.hide_message&&d.is(":visible")&&d.fadeOut()}).on("mouseleave touchend touchcancel",function(e){var a=t.data("reset-timer"),n=t.find(".g-img-divider span");
i.reset&&(a||(a=window.setTimeout(function(){t.find(".g-img-after").animate({left:"50%"},500),t.find(".g-img-divider").animate({left:"50%"},500,function(){
n.fadeIn()}),t.data("reset-timer",!1)},i.reset_delay),t.data("reset-timer",a)))})}),this}}(jQuery);